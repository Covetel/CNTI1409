#action: /instituciones/registrar
# indicator is the field that is used to test for form submission
indicator: Botones.submit

# Start listing the form elements
#auto_fieldset: 1

languages:
    - es

elements:
    - type: Fieldset
      name: datos_institucion
      legend: Datos de la Institución
      elements:
        - type: Hidden
          name: id

        - type: Block
          tag: div
          content: Por favor indique correctamente sus datos en los campos correspondientes
          attributes:
              class: informacion

        - type: Text
          name: nombre
          label: Nombre de la Institución
          attributes:
              title: 'Por favor ingrese el nombre de la Institución. Ejemplo: Centro Nacional de Tecnologías de Información.'
              class: input_text
          constraints:
            - Required
            - type: Length
              min: 4
              max: 250
              message: "El nombre debe contener al menos 4 caracteres"
          validator: 'CNTI1409::Nombre'

        - type: Text
          name: rif
          label: R.I.F.
          attributes:
              title: 'Por favor ingrese el R.I.F. de la Institución correctamente. Ejemplo: G-00000000-0.'
              class: input_text
              maxlength: 15
              id: rif
          constraints:
            - type: Regex
              regex: '^(J|G)-\d{8}-\d$'
              message: "No corresponde a un R.I.F. válido"
            - Required
          validator: 'CNTI1409::RIF'

        - type: Text
          name: telefono
          label: Teléfono
          id: phone
          attributes:
              title: 'Por favor ingrese el número de teléfono de la Institución.'
              class: input_text
          constraints:
              - Required
          validator: 'CNTI1409::Telefono'

        - type: Textarea
          name: direccion
          label: Dirección
          attributes:
              title: 'Por favor ingrese la dirección de la Institución. Ejemplo: Avenida Andrés Bello, sector Guaicaipuro, Torre Fondo Común, piso 1, Municipio Libertador, Caracas -Venezuela. 1050'

        - type: Text
          name: contacto
          label: Persona Contacto
          attributes:
              title: 'Por favor ingrese el nombre de la persona de contacto. Ejemplo: Pedro Ramírez'
              class: input_text
          constraints:
            - Required
            - type: Regex
              regex: '^\D+$'
              message: "El nombre no puede tener números"
            - type: Length
              min: 4
              max: 250
              message: "El nombre debe contener al menos 4 caracteres"

        - type: Text
          name: correo
          label: Correo Electrónico
          attributes:
              title: 'Por favor ingrese un correo electrónico, preferentemente institucional. Ejemplo: contacto@cnti.gob.ve'
              class: input_text
          constraints:
            - Required
            - type: Email
          validator: 'CNTI1409::Correo'

        - type: Text
          name: web
          label: Página Web
          default: "http://"
          attributes:
              title: 'Ingrese el nombre de la página web institucional. Ejemplo: http://www.cnti.gob.ve'
              class: input_text
          constraints:
            - type: Regex
              common: [ URI, HTTP, { '-scheme': 'ftp|https?' } ]
          validator: 'CNTI1409::Web'


    # The Submit button
    - type: Multi
      name: Botones
      elements:
        - type: Submit
          name: submit
          # The text to be displayed
          value: Actualizar
          attributes:
              title: Presione este botón para registrar la institución.
              class: input_submit
       
        - type: Reset
          name: reset
          # The text to be displayed
          value: Reiniciar
          attributes:
              title: Presione este botón para inicializar en blanco los campos del formulario.
              class: input_reset

filter:
    - TrimEdges
    - HTMLEscape
